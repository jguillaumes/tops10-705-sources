HXWEBDONE.CTLY<-1-;A>HXT0US0UQI.PA@BUILDS.PTH
.ERROR ?
.r scc(check
.error %
.dir scums:gwi
.if (noerror).goto half
SCUM::.CHKPNT SCUM
.error ?
.DELETE *.SCM
.R FILCOM
<.-Z;I*DSK:.SCM/O/T=MON:L3R1A-49"E0L:FS.SCM.S11;L3R1USOS11'1UQ!S11!CI,DSK:1L>
ICORR::.CHKPNT CORR
.R COMPAR
.u0gtq0j
<.-Z;I*DSK:.COR=MON:L2R.-4,.xeI,DSK:geR1A-49"E0L:FS.COR.C11;L3R'Ci/NAME:""RGWL>
ICFC::.CHKPNT CFC
.R PIP 100K
*SCUMS:GWI=QQ"NI*.SCM'QS"NQQ"NI,'I*.S11'I ;Weekly filcoms
.R DIP(/REN SCUMS:.CFC/PROT:455=DSK:*.SCM'IFNOT'SCUMS:.CFC
.IF (ERROR) ;OK
.R DIP(/REN P11:.CFC/PROT:455=DSK:*.S11'IFNOT'P11:.CFC
.IF (ERROR) ;OK
HALF::.CHKPNT HALF
.r scc(check
.ERROR %
.DI/I/NOPRDE/NOPRDI DONE.CCL=*.SCM
.IF (ERROR) .GOTO S11
.ERROR ?
.R TECO
=EBDONE.CCL^[Y<-1-^N;A>^[^[
*<.-Z;.U0S.^[;Q0,.-1XA0LISCUMS:.CFC=^[5RGAL2R-4DI.SCM,SCUMS:.CFC^[4RGA1L
*IDSK:/D=.SCM
=^[6RGA1L>^[EX^[^[
.R PIP 100K
*DONE.CCL@
S11::.CHKPNT S11
.r scc(check
.ERROR %
.DI/I/NOPRDE/NOPRDI DONE.CCL=*.S11
.IF (ERROR) .GOTO MOST
.ERROR ?
.R TECO
=EBDONE.CCL^[Y<-1-^N;A>^[^[
*<.-Z;.U0S.^[;Q0,.-1XA0LIP11:.CFC=^[5RGAL2R-4DI.S11,P11:.CFC^[4RGA1L
*IDSK:/D=.S11
=^[6RGA1L>^[EX^[^[
.R PIP 100K
*DONE.CCL@
MOST::.CHKPNT MOST
.ERROR ?
.r scc(check
.PIVOT FFA:
.IF (ERROR) ;
.R DIP(/D BLKK:[1,2]*.COR'OR'*.C11
.IF (ERROR) ;
.R DIP(/D BLKK:[1,2]*.*'IFAND'DSK:*.*
.IF (ERROR) ;
.PIVOT BASE:
.IF (ERROR) ;
COPY::.CHKPNT COPY
.r scc(check
.R PIP 100K
.U0GTQ0J
<.-Z;.U0S.;Q0,.+3XA0LI*MON:=1RGA1L>
I.COPY MON:TOPL10.GLB=L:TOPS10.GLB
.IF (ERROR) ;
.COPY MON:TOPS10.GLB=S:TOPS10.GLB
.IF (ERROR) ;
.COPY MON:TOPF10.GLB=F:TOPS10.GLB
.IF (ERROR) ;
.COPY MON:MONGEN.EXE=BASE:MONGEN.EXE
.IF (ERROR) ;
CLEAN::.CHKPNT CLEAN
.r scc(check
.PROTECT<255>DONE.CTL
.IF (ERROR) ;
.DELETE *.MAC,*.SCM,*.CTL,*.AOK,DONE.CCL,DONE.BAK,*.P11
.IF (ERROR) ;
.PROTECT<055>DONE.CTL
.IF (ERROR) ;
.PATH [,]
;.SUBMIT MCOSCC/TIME:0:05:00/BATL:SUPER/REST:Y/UNI:NO/OUT:NOLOG
.R SCC(UNLOCK
MAIL::.CHKPNT MAIL
.MAIL S TOPS10-Developers
*DONE.MIC
*. . . is finally done.
=^Z
.IF (ERROR) .REQUEUE
EX